# YouTubeDownloader

یک دانلودکننده ویدیو و لیست پخش یوتیوب با رابط کاربری گرافیکی (GUI) ساده و قدرتمند، ساخته‌شده با PySide6. این برنامه از ابزارهای yt-dlp و ffmpeg برای دانلود ویدیوها، مدیریت صف دانلود، و تنظیمات مختلف استفاده می‌کند. هدف اصلی، فراهم کردن یک ابزار کاربرپسند برای دانلود محتوا از یوتیوب بدون نیاز به خط فرمان است.

[![GitHub release](https://img.shields.io/github/v/release/NoirMorphm/YouTubeDownloader)](https://github.com/NoirMorphm/YouTubeDownloader/releases)  
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)  

## ویژگی‌ها
- **اضافه کردن URLها**: پشتیبانی از ویدیوهای تک و لیست پخش (playlist). می‌توانید URLها را مستقیم وارد کنید یا از فایل‌های TXT/CSV وارد کنید.
- **مدیریت صف دانلود**: نمایش لیست دانلودها با جزئیات مانند عنوان، حجم، مدت زمان، کیفیت، فرمت، و وضعیت.
- **تنظیمات دانلود**:
  - کیفیت: بهترین، بدترین، 1080p، 720p، و غیره.
  - فرمت: ویدیو و صدا (mp4، mkv، و غیره) یا فقط صدا (mp3).
  - زیرنویس: انگلیسی، فارسی، یا هیچ.
  - حداکثر دانلود همزمان (concurrency).
  - پروکسی و تم برنامه (روشن/تاریک/خودکار).
- **پیشرفت دانلود**: نمایش پیشرفت، حجم دانلود شده، سرعت، و زمان باقی‌مانده.
- **مدیریت دانلود**: شروع، مکث، ادامه، لغو دانلودهای تکی یا همه.
- **لیست دانلود شده‌ها**: نمایش ویدیوهای دانلود شده با مسیر فایل.
- **خروجی اطلاعات**: خروجی لیست به فرمت‌های TXT، JSON، CSV.
- **لاگ عملیات**: نمایش لاگ زمان‌دار برای پیگیری عملیات.
- **دانلود تامنیل**: امکان دانلود عکس پیش‌نمایش ویدیوها.
- **پشتیبانی از تموم**: تم روشن/تاریک بر اساس سیستم یا تنظیم دستی.
- **پاک‌سازی خودکار**: گزینه حذف فایل‌های ناقص هنگام لغو یا خروج.

برنامه به زبان فارسی رابط کاربری دارد و برای کاربران ایرانی بهینه شده است (مانند پشتیبانی از زیرنویس فارسی).

## پیش‌نیازها
برای اجرای برنامه از سورس‌کد، نیاز به موارد زیر دارید:
- **Python 3.8+**: (توصیه‌شده Python 3.12 برای بهترین عملکرد).
- **کتابخانه‌های پایتون**:
  - PySide6: برای رابط کاربری GUI.
  - requests: برای دانلود و ارتباطات HTTP.
  - yt-dlp: برای دانلود از یوتیوب.
  - نصب با:
    ```
    pip install PySide6 requests yt-dlp
    ```
- **yt-dlp و ffmpeg**: 
  - برنامه به طور خودکار این ابزارها را دانلود می‌کند اگر در سیستم موجود نباشند، اما می‌توانید آن‌ها را دستی دانلود و در PATH سیستم قرار دهید.
  - yt-dlp: از [اینجا](https://github.com/yt-dlp/yt-dlp/releases) دانلود کنید.
  - ffmpeg: از [اینجا](https://ffmpeg.org/download.html) دانلود کنید (نسخه essentials برای ویندوز کافی است).
- **سیستم‌عامل**: ویندوز، لینوکس، یا macOS (تست‌شده روی ویندوز 10/11).
- **فضای ذخیره**: حداقل 100 مگابایت برای ابزارها و دانلودها.

**نکته مهم**: برنامه دسترسی به اینترنت برای دانلود ابزارها (اگر لازم) و ویدیوها نیاز دارد. همچنین، به دلیل قوانین یوتیوب، دانلود محتوا ممکن است در برخی کشورها محدود باشد – مسئولیت استفاده بر عهده کاربر است.

## نصب
### از فایل اجرایی (برای کاربران عادی)
1. از بخش [Releases](https://github.com/NoirMorphm/YouTubeDownloader/releases) فایل نصب‌کننده `YouTubeDownloader_Setup.exe` را دانلود کنید.
2. نصب‌کننده را اجرا کنید (نیاز به دسترسی ادمین دارد).
3. برنامه را از منوی استارت یا دسکتاپ اجرا کنید.

### از سورس‌کد (برای توسعه‌دهندگان)
1. ریپوزیتوری را کلون کنید:
   ```
   git clone https://github.com/NoirMorphm/YouTubeDownloader.git
   cd YouTubeDownloader
   ```
2. پیش‌نیازها را نصب کنید (بالا را ببینید).
3. برنامه را اجرا کنید:
   ```
   python bugfixed.py
   ```
4. برای ساخت فایل اجرایی مستقل، از PyInstaller استفاده کنید (دستور زیر برای PowerShell):
   ```
   pyinstaller --name YouTubeDownloader `
       --onefile `
       --windowed `
       --noconsole `
       --icon ".\icon.ico" `
       --add-data "yt-dlp_bin;yt-dlp_bin" `
       --add-data "ffmpeg_bin;ffmpeg_bin" `
       --add-data "icon.ico;." `
       --noconfirm `
       --upx-dir "C:\tools\upx" `
       --hidden-import yt_dlp `
       --hidden-import PySide6.QtGui `
       --hidden-import PySide6.QtWidgets `
       --hidden-import PySide6.QtCore `
       .\bugfixed.py
   ```
   - فایل اجرایی در پوشه `dist` ایجاد می‌شود.

### نکات نصب
- اگر yt-dlp یا ffmpeg دانلود نشد، آن‌ها را دستی در پوشه‌های `yt-dlp_bin` و `ffmpeg_bin` قرار دهید.
- در ویندوز، ممکن است نیاز به Microsoft Visual C++ Redistributable داشته باشید (از سایت مایکروسافت دانلود کنید).
- برای لیست پخش‌های بزرگ (بیش از 100 ویدیو)، برنامه ممکن است کمی کند شود – از batchهای کوچک استفاده کنید یا URL را با `?playlist_items=1-50` محدود کنید.
- اگر پروکسی نیاز دارید، در تنظیمات برنامه وارد کنید.

## استفاده
1. برنامه را اجرا کنید.
2. URL ویدیو یا لیست پخش را در فیلد ورودی وارد کنید و "اضافه کردن به صف" را بزنید.
3. در جدول، تنظیمات کیفیت/فرمت/زیرنویس را برای هر مورد تنظیم کنید.
4. "شروع دانلود" را بزنید.
5. پیشرفت را در جدول ببینید و لاگ را برای جزئیات بررسی کنید.
6. پس از دانلود، فایل‌ها در پوشه ذخیره (پیش‌فرض: Downloads) قرار می‌گیرند.

### نکات مهم استفاده
- **هنگ در لیست پخش بزرگ**: برنامه اطلاعات را به صورت batch استخراج می‌کند، اما برای لیست‌های خیلی بزرگ (هزاران ویدیو)، ممکن است UI موقتاً freeze شود. از محدودیت تعداد آیتم‌ها استفاده کنید.
- **زمان تبدیل فرمت**: اگر فرمت MP4 انتخاب شده، دانلود مستقیم MP4 اولویت دارد تا تبدیل با ffmpeg کاهش یابد. اگر کند بود، فرمت webm را امتحان کنید (نیاز به تبدیل ندارد).
- **لغو دانلود**: فایل‌های ناقص (.part) حفظ می‌شوند برای ادامه، مگر اینکه گزینه حذف خودکار فعال باشد.
- **پاک‌سازی**: گزینه "پاک کردن صف هنگام خروج" در تنظیمات برای حفظ حریم خصوصی مفید است.
- **خطاها**: اگر خطایی مانند "yt-dlp not found" دیدید، برنامه را دوباره اجرا کنید تا ابزارها دانلود شوند. لاگ را برای جزئیات چک کنید.
- **به‌روزرسانی**: yt-dlp را دستی به‌روزرسانی کنید اگر نسخه قدیمی مشکل‌ساز شد (برنامه نسخه جدید را دانلود می‌کند).

## اسکرین‌شات‌ها
![رابط کاربری اصلی](https://example.com/screenshot-main.png)  
(صف دانلود و ورودی URL)  

![تنظیمات](https://example.com/screenshot-settings.png)  
(صفحه تنظیمات با گزینه‌های کیفیت و فرمت)  

## مشارکت
- Fork کنید و Pull Request بدهید.
- برای گزارش باگ یا پیشنهاد ویژگی، Issue باز کنید.
- توسعه‌دهندگان: کد در `bugfixed.py` است – از PySide6 برای GUI و yt-dlp برای دانلود استفاده شده.

## لایسنس
این پروژه تحت لایسنس MIT منتشر شده است. جزئیات در فایل [LICENSE](LICENSE). 

ساخته‌شده توسط [NoirMorph](https://github.com/NoirMorphm). اگر مفید بود، ستاره بدهید! ⭐
